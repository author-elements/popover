{"version":3,"file":"author-popup.es5.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPopupElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      annotatedElement: {\n        private: true,\n        readonly: true,\n        get: () => document.getElementById(this.getAttribute('for')) || null\n      },\n\n      position: {\n        private: true,\n        default: []\n      },\n\n      positionValues: {\n        readonly: true,\n        private: true,\n        default: ['left', 'center', 'right', 'top', 'bottom']\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      hidden: true,\n\n      position: {\n        default: 'center top',\n\n        get: () => this.PRIVATE.position ? this.PRIVATE.position.join(' ') : null,\n\n        set: value => {\n          let { positionValues } = this.PRIVATE\n          let array = value.trim().split(' ')\n\n          this.PRIVATE.position = array.filter(term => {\n            let isValid = positionValues.includes(term)\n\n            if (!isValid) {\n              this.UTIL.printToConsole(`Invalid position value \"${term}\". Accepted values: ${this.PRIVATE.positionValues.join(', ')}`, 'error')\n            }\n\n            return isValid\n          })\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      annotatedElementEnterHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.show()\n      },\n\n      annotatedElementLeaveHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.hide()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        this.hide()\n\n        if (!this.PRIVATE.annotatedElement) {\n          return\n        }\n\n        this.UTIL.registerListeners(this.PRIVATE.annotatedElement, {\n          pointerenter: evt => {\n            this.on('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.off('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.enter',\n              cfg: {\n                cancelable: true\n              }\n            })\n          },\n\n          pointerleave: evt => {\n            this.off('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.on('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.leave',\n              cfg: {\n                cancelable: true\n              }\n            })\n          }\n        })\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['for', 'hidden', 'position']\n  }\n\n  get annotatedElement () {\n    return this.PRIVATE.annotatedElement\n  }\n\n  get isHidden () {\n    return this.hasAttribute('hidden')\n  }\n\n  get isVisible () {\n    return !this.isHidden\n  }\n\n  hide () {\n    this.setAttribute('hidden', '')\n  }\n\n  show () {\n    this.removeAttribute('hidden')\n  }\n}\n\ncustomElements.define('author-popup', AuthorPopupElement)\n\nexport default AuthorPopupElement\n"],"names":["AuthorPopupElement","UTIL","defineProperties","annotatedElement","private","readonly","get","document","getElementById","getAttribute","position","default","positionValues","defineAttributes","hidden","PRIVATE","join","set","value","array","trim","split","filter","term","isValid","includes","printToConsole","definePrivateMethods","annotatedElementEnterHandler","evt","defaultPrevented","show","annotatedElementLeaveHandler","hide","registerListeners","connected","pointerenter","on","off","emit","name","cfg","cancelable","pointerleave","setAttribute","removeAttribute","hasAttribute","isHidden","AuthorBaseElement","HTMLElement","customElements","define"],"mappings":"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"}