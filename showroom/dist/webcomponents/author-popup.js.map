{"version":3,"file":"author-popup.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPopupElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      annotatedElement: {\n        private: true,\n        readonly: true,\n        get: () => document.getElementById(this.getAttribute('for')) || null\n      },\n\n      position: {\n        private: true,\n        default: []\n      },\n\n      positionValues: {\n        readonly: true,\n        private: true,\n        default: ['left', 'center', 'right', 'top', 'bottom']\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      hidden: true,\n\n      position: {\n        default: 'center top',\n\n        get: () => this.PRIVATE.position ? this.PRIVATE.position.join(' ') : null,\n\n        set: value => {\n          let { positionValues } = this.PRIVATE\n          let array = value.trim().split(' ')\n\n          this.PRIVATE.position = array.filter(term => {\n            let isValid = positionValues.includes(term)\n\n            if (!isValid) {\n              this.UTIL.printToConsole(`Invalid position value \"${term}\". Accepted values: ${this.PRIVATE.positionValues.join(', ')}`, 'error')\n            }\n\n            return isValid\n          })\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      annotatedElementEnterHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.show()\n      },\n\n      annotatedElementLeaveHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.hide()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        this.hide()\n\n        if (!this.PRIVATE.annotatedElement) {\n          return\n        }\n\n        this.UTIL.registerListeners(this.PRIVATE.annotatedElement, {\n          pointerenter: evt => {\n            this.on('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.off('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.enter',\n              cfg: {\n                cancelable: true\n              }\n            })\n          },\n\n          pointerleave: evt => {\n            this.off('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.on('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.leave',\n              cfg: {\n                cancelable: true\n              }\n            })\n          }\n        })\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['for', 'hidden', 'position']\n  }\n\n  get annotatedElement () {\n    return this.PRIVATE.annotatedElement\n  }\n\n  get isHidden () {\n    return this.hasAttribute('hidden')\n  }\n\n  get isVisible () {\n    return !this.isHidden\n  }\n\n  hide () {\n    this.setAttribute('hidden', '')\n  }\n\n  show () {\n    this.removeAttribute('hidden')\n  }\n}\n\ncustomElements.define('author-popup', AuthorPopupElement)\n\nexport default AuthorPopupElement\n"],"names":[],"mappings":"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"}