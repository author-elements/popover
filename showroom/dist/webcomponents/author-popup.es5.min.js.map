{"version":3,"file":"author-popup.es5.min.js","sources":["../src/element.js"],"sourcesContent":["class AuthorPopupElement extends AuthorBaseElement(HTMLElement) {\n  constructor () {\n    super(`{{TEMPLATE-STRING}}`)\n\n    this.UTIL.defineProperties({\n      annotatedElement: {\n        private: true,\n        readonly: true,\n        get: () => document.getElementById(this.getAttribute('for')) || null\n      },\n\n      position: {\n        private: true,\n        default: []\n      },\n\n      positionValues: {\n        readonly: true,\n        private: true,\n        default: ['left', 'center', 'right', 'top', 'bottom']\n      }\n    })\n\n    this.UTIL.defineAttributes({\n      hidden: true,\n\n      position: {\n        default: 'center top',\n\n        get: () => this.PRIVATE.position ? this.PRIVATE.position.join(' ') : null,\n\n        set: value => {\n          let { positionValues } = this.PRIVATE\n          let array = value.trim().split(' ')\n\n          this.PRIVATE.position = array.filter(term => {\n            let isValid = positionValues.includes(term)\n\n            if (!isValid) {\n              this.UTIL.printToConsole(`Invalid position value \"${term}\". Accepted values: ${this.PRIVATE.positionValues.join(', ')}`, 'error')\n            }\n\n            return isValid\n          })\n        }\n      }\n    })\n\n    this.UTIL.definePrivateMethods({\n      annotatedElementEnterHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.show()\n      },\n\n      annotatedElementLeaveHandler: evt => {\n        if (evt.defaultPrevented) {\n          return\n        }\n\n        this.hide()\n      }\n    })\n\n    this.UTIL.registerListeners(this, {\n      connected: () => {\n        this.hide()\n\n        if (!this.PRIVATE.annotatedElement) {\n          return\n        }\n\n        this.UTIL.registerListeners(this.PRIVATE.annotatedElement, {\n          pointerenter: evt => {\n            this.on('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.off('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.enter',\n              cfg: {\n                cancelable: true\n              }\n            })\n          },\n\n          pointerleave: evt => {\n            this.off('annotated-element.enter', this.PRIVATE.annotatedElementEnterHandler)\n            this.on('annotated-element.leave', this.PRIVATE.annotatedElementLeaveHandler)\n\n            this.emit({\n              name: 'annotated-element.leave',\n              cfg: {\n                cancelable: true\n              }\n            })\n          }\n        })\n      }\n    })\n  }\n\n  static get observedAttributes () {\n    return ['for', 'hidden', 'position']\n  }\n\n  get annotatedElement () {\n    return this.PRIVATE.annotatedElement\n  }\n\n  get isHidden () {\n    return this.hasAttribute('hidden')\n  }\n\n  get isVisible () {\n    return !this.isHidden\n  }\n\n  hide () {\n    this.setAttribute('hidden', '')\n  }\n\n  show () {\n    this.removeAttribute('hidden')\n  }\n}\n\ncustomElements.define('author-popup', AuthorPopupElement)\n\nexport default AuthorPopupElement\n"],"names":["AuthorPopupElement","UTIL","defineProperties","annotatedElement","private","readonly","get","document","getElementById","_this","getAttribute","position","default","positionValues","defineAttributes","hidden","PRIVATE","join","set","value","array","trim","split","filter","term","isValid","includes","printToConsole","definePrivateMethods","annotatedElementEnterHandler","evt","defaultPrevented","show","annotatedElementLeaveHandler","hide","registerListeners","connected","pointerenter","on","off","emit","name","cfg","cancelable","pointerleave","AuthorBaseElement","HTMLElement","setAttribute","removeAttribute","this","hasAttribute","isHidden","customElements","define"],"mappings":"6wCAAMA,2jBAIGC,KAAKC,iBAAiB,CACzBC,iBAAkB,CAChBC,SAAS,EACTC,UAAU,EACVC,IAAK,kBAAMC,SAASC,eAAeC,EAAKC,aAAa,SAAW,OAGlEC,SAAU,CACRP,SAAS,EACTQ,QAAS,IAGXC,eAAgB,CACdR,UAAU,EACVD,SAAS,EACTQ,QAAS,CAAC,OAAQ,SAAU,QAAS,MAAO,eAI3CX,KAAKa,iBAAiB,CACzBC,QAAQ,EAERJ,SAAU,CACRC,QAAS,aAETN,IAAK,kBAAMG,EAAKO,QAAQL,SAAWF,EAAKO,QAAQL,SAASM,KAAK,KAAO,MAErEC,IAAK,SAAAC,OACGN,EAAmBJ,EAAKO,QAAxBH,eACFO,EAAQD,EAAME,OAAOC,MAAM,OAE1BN,QAAQL,SAAWS,EAAMG,OAAO,SAAAC,OAC/BC,EAAUZ,EAAea,SAASF,UAEjCC,KACExB,KAAK0B,iDAA0CH,iCAA2Bf,EAAKO,QAAQH,eAAeI,KAAK,OAAS,SAGpHQ,UAMVxB,KAAK2B,qBAAqB,CAC7BC,6BAA8B,SAAAC,GACxBA,EAAIC,oBAIHC,QAGPC,6BAA8B,SAAAH,GACxBA,EAAIC,oBAIHG,YAIJjC,KAAKkC,uBAAwB,CAChCC,UAAW,aACJF,OAEAzB,EAAKO,QAAQb,oBAIbF,KAAKkC,kBAAkB1B,EAAKO,QAAQb,iBAAkB,CACzDkC,aAAc,SAAAP,KACPQ,GAAG,0BAA2B7B,EAAKO,QAAQa,gCAC3CU,IAAI,0BAA2B9B,EAAKO,QAAQiB,gCAE5CO,KAAK,CACRC,KAAM,0BACNC,IAAK,CACHC,YAAY,MAKlBC,aAAc,SAAAd,KACPS,IAAI,0BAA2B9B,EAAKO,QAAQa,gCAC5CS,GAAG,0BAA2B7B,EAAKO,QAAQiB,gCAE3CO,KAAK,CACRC,KAAM,0BACNC,IAAK,CACHC,YAAY,mQA9FKE,kBAAkBC,oEAwGxC,CAAC,MAAO,SAAU,qDAgBpBC,aAAa,SAAU,wCAIvBC,gBAAgB,0DAhBdC,KAAKjC,QAAQb,yDAIb8C,KAAKC,aAAa,mDAIjBD,KAAKE,qDAYjBC,eAAeC,OAAO,eAAgBrD"}